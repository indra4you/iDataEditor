"use strict";(self.webpackChunkidataeditor=self.webpackChunkidataeditor||[]).push([[735],{4735:(ze,v,p)=>{p.r(v),p.d(v,{TermDepositsModule:()=>Xe});var m=p(6895),a=p(433),s=p(6684),g=p(4736),c=p(5861),d=p(8693);class Z{static getAll(){return(0,c.Z)(function*(){return(yield s.Do.getRoot()).termDeposits??[]})()}static getById(n){var t=this;return(0,c.Z)(function*(){const r=yield t.getAll(),[i]=r.filter(l=>l.id===n);return i})()}static create(n){return(0,c.Z)(function*(){const t=yield s.Do.getRoot();if(t.termDeposits=t.termDeposits??[],t.termDeposits.filter(i=>i.accountNumber===n.accountNumber).length>0)throw new d.be;t.termDeposits.push(n),yield s.Do.saveRoot(t)})()}static update(n,t){return(0,c.Z)(function*(){const r=yield s.Do.getRoot();r.termDeposits=r.termDeposits??[];const i=r.termDeposits.findIndex(_=>_.id===n);if(-1===i)throw new d.Xs;if(r.termDeposits.filter(_=>_.id!==n&&_.accountNumber===t.accountNumber).length>0)throw new d.be;r.termDeposits[i]=t,yield s.Do.saveRoot(r)})()}static delete(n){return(0,c.Z)(function*(){const t=yield s.Do.getRoot();t.termDeposits=t.termDeposits??[];const r=t.termDeposits.findIndex(i=>i.id===n);if(-1===r)throw new d.Xs;t.termDeposits.splice(r,1),yield s.Do.saveRoot(t)})()}}var e=p(8256);function b(o,n){1&o&&(e.TgZ(0,"div",16),e._UZ(1,"label",17)(2,"span",18),e.qZA())}function h(o,n){if(1&o&&(e.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),e._UZ(4,"span",11),e.qZA(),e.TgZ(5,"div",12),e._UZ(6,"span",11),e.qZA()()(),e.YNc(7,b,3,0,"div",13),e._UZ(8,"button",14)(9,"button",15),e.qZA()),2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngForOf",t._noOfFields)}}function C(o,n){if(1&o&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10),e._UZ(3,"i",29),e.qZA(),e.TgZ(4,"div",12),e._uU(5),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(5),e.hij(" ",t.errorMessage," ")}}function N(o,n){if(1&o&&(e.TgZ(0,"span",21),e._uU(1),e.qZA()),2&o){const t=n.$implicit,r=n.index,i=e.oxw(2);e.xp6(1),e.AsE(" ",r+1,". ",i.toDisplayName(t)," ")}}function q(o,n){1&o&&(e.TgZ(0,"div",30)(1,"span",31),e._uU(2,"Loading..."),e.qZA()())}function F(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"div",10),e._UZ(3,"i",19),e.qZA(),e.TgZ(4,"div",12),e._uU(5," Are you sure you want to delete Term Deposit? "),e.qZA()()(),e.YNc(6,C,6,1,"div",20),e.TgZ(7,"div",16)(8,"label"),e._uU(9,"Account Number"),e.qZA(),e.TgZ(10,"span",21),e._uU(11),e.qZA()(),e.TgZ(12,"div",16)(13,"label"),e._uU(14,"Name"),e.qZA(),e.YNc(15,N,2,2,"span",22),e.qZA(),e.TgZ(16,"div",16)(17,"label"),e._uU(18,"Institution"),e.qZA(),e.TgZ(19,"span",21),e._uU(20),e.qZA()(),e.TgZ(21,"div",16)(22,"label"),e._uU(23,"Start Date"),e.qZA(),e.TgZ(24,"span",21),e._uU(25),e.ALo(26,"date"),e.qZA()(),e.TgZ(27,"div",16)(28,"label"),e._uU(29,"Principal Amount"),e.qZA(),e.TgZ(30,"span",21),e._uU(31),e.ALo(32,"currency"),e.qZA()(),e.TgZ(33,"div",16)(34,"label"),e._uU(35,"Maturity Date"),e.qZA(),e.TgZ(36,"span",21),e._uU(37),e.ALo(38,"date"),e.qZA()(),e.TgZ(39,"div",16)(40,"label"),e._uU(41,"Maturity Amount"),e.qZA(),e.TgZ(42,"span",21),e._uU(43),e.ALo(44,"currency"),e.qZA()(),e.TgZ(45,"button",23),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onDeleteClicked())}),e._UZ(46,"i",24),e.TgZ(47,"span",25),e._uU(48,"Delete"),e.qZA()(),e.TgZ(49,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onCancelClicked())}),e._UZ(50,"i",27),e.TgZ(51,"span",25),e._uU(52,"Cancel"),e.qZA()(),e.YNc(53,q,3,0,"div",28)}if(2&o){const t=e.oxw();e.xp6(6),e.Q6J("ngIf",t.haveError),e.xp6(5),e.Oqu(t.model.accountNumber),e.xp6(4),e.Q6J("ngForOf",t.model.names),e.xp6(5),e.Oqu(t.model.institutionName),e.xp6(5),e.Oqu(e.lcZ(26,11,t.model.startDate)),e.xp6(6),e.Oqu(e.xi3(32,13,t.model.principalAmount,t.model.currencyCode)),e.xp6(6),e.Oqu(e.lcZ(38,16,t.model.maturityDate)),e.xp6(6),e.Oqu(e.xi3(44,18,t.model.maturityAmount,t.model.currencyCode)),e.xp6(2),e.Q6J("disabled",t.isSaving),e.xp6(4),e.Q6J("disabled",t.isSaving),e.xp6(4),e.Q6J("ngIf",t.isSaving)}}let U=(()=>{class o{constructor(){this._noOfFields=[...Array(3).keys()],this.onClose=new e.vpe(!0),this.model=null,this.isLoading=!1,this.isSaving=!1,this.errorMessage=""}ngAfterViewInit(){setTimeout(()=>{this.load()},500)}load(){var t=this;return(0,c.Z)(function*(){t.isLoading=!0;try{t.model=yield Z.getById(t.id)}finally{t.isLoading=!1}})()}get haveData(){return!this.isLoading&&null!==this.model}get haveError(){return this.errorMessage.length>0}toDisplayName(t){return s.W_.toDisplayName(t)}onCancelClicked(){this.onClose.emit(!1)}onDeleteClicked(){var t=this;return(0,c.Z)(function*(){t.isSaving=!0;try{yield Z.delete(t.id),t.onClose.emit(!0)}catch(r){r instanceof d.Xs&&(t.errorMessage=`Term Deposit with ID '${t.id}' not found`)}finally{t.isSaving=!1}})()}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["term-deposit-delete"]],inputs:{id:"id"},outputs:{onClose:"onClose"},decls:9,vars:2,consts:[["tabindex","-1","aria-modal","true","role","dialog",1,"offcanvas","offcanvas-end","show"],[1,"offcanvas-header","text-bg-primary"],[1,"offcanvas-title"],[1,"offcanvas-body"],["class","placeholder-glow",4,"ngIf","ngIfElse"],["showData",""],[1,"offcanvas-backdrop","fade","show"],[1,"placeholder-glow"],["role","alert",1,"alert","alert-danger"],[1,"row"],[1,"col-1"],[1,"col-12","placeholder"],[1,"col-11"],["class","mb-3",4,"ngFor","ngForOf"],["type","button","disabled","",1,"btn","btn-danger","col-4","placeholder"],["type","button","disabled","",1,"btn","btn-secondary","ms-2","col-4","placeholder"],[1,"mb-3"],[1,"col-5","placeholder"],[1,"form-control","col-12","placeholder"],[1,"bi","bi-patch-question"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"form-control-plaintext"],["class","form-control-plaintext",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-danger",3,"disabled","click"],[1,"bi","bi-trash3"],[1,"ms-2"],["type","button",1,"btn","btn-outline-secondary","ms-2",3,"disabled","click"],[1,"bi","bi-x-lg"],["class","spinner-grow spinner-grow-sm ms-2","role","status",4,"ngIf"],[1,"bi","bi-patch-exclamation"],["role","status",1,"spinner-grow","spinner-grow-sm","ms-2"],[1,"visually-hidden"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3,"Delete Term Deposit"),e.qZA()(),e.TgZ(4,"div",3),e.YNc(5,h,10,1,"div",4),e.YNc(6,F,54,21,"ng-template",null,5,e.W1O),e.qZA()(),e._UZ(8,"div",6)),2&t){const i=e.MAs(7);e.xp6(5),e.Q6J("ngIf",!r.haveData)("ngIfElse",i)}},dependencies:[m.sg,m.O5,m.H9,m.uU],encapsulation:2}),o})();function y(o,n){1&o&&(e.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12),e._UZ(4,"span",13),e.qZA(),e.TgZ(5,"div",12),e._UZ(6,"span",13),e.qZA(),e.TgZ(7,"div",12),e._UZ(8,"span",13),e.qZA(),e.TgZ(9,"div",12),e._UZ(10,"span",13),e.qZA(),e.TgZ(11,"div",12),e._UZ(12,"span",13),e.qZA(),e.TgZ(13,"div",12),e._UZ(14,"span",13),e.qZA()()()())}function D(o,n){if(1&o&&(e.TgZ(0,"div",7),e.YNc(1,y,15,0,"div",8),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t._noOfData)}}const I=function(o){return["edit",o]};function w(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",16)(2,"div",17)(3,"div",18)(4,"a",19),e._UZ(5,"i",20),e.qZA(),e.TgZ(6,"button",21),e.NdJ("click",function(){const l=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.onDeleteClicked(l.id))}),e._UZ(7,"i",22),e.qZA()()()(),e.TgZ(8,"div",10)(9,"div",23)(10,"div",24)(11,"small",25),e._uU(12,"Account Number"),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"div",12)(17,"small",25),e._uU(18,"Names"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"span"),e._uU(21),e.qZA()(),e.TgZ(22,"div",26)(23,"small",25),e._uU(24,"Institution"),e.qZA(),e._UZ(25,"br"),e.TgZ(26,"span"),e._uU(27),e.qZA()()(),e.TgZ(28,"div",11)(29,"div",24)(30,"small",25),e._uU(31,"Start Date"),e.qZA(),e._UZ(32,"br"),e.TgZ(33,"span"),e._uU(34),e.ALo(35,"date"),e.qZA()(),e.TgZ(36,"div",24)(37,"small",25),e._uU(38,"Principal Amount"),e.qZA(),e._UZ(39,"br"),e.TgZ(40,"span"),e._uU(41),e.ALo(42,"currency"),e.qZA()(),e.TgZ(43,"div",24)(44,"small",25),e._uU(45,"Maturity Date"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"span"),e._uU(48),e.ALo(49,"date"),e.qZA()(),e.TgZ(50,"div",24)(51,"small",25),e._uU(52,"Maturity Amount"),e.qZA(),e._UZ(53,"br"),e.TgZ(54,"span"),e._uU(55),e.ALo(56,"currency"),e.qZA()()(),e.TgZ(57,"div",27)(58,"div",24)(59,"small",25),e._uU(60,"Tenure"),e.qZA(),e._UZ(61,"br"),e.TgZ(62,"span"),e._uU(63),e.qZA()(),e.TgZ(64,"div",24)(65,"small",25),e._uU(66,"Interest Rate"),e.qZA(),e._UZ(67,"br"),e.TgZ(68,"span"),e._uU(69),e.qZA()(),e.TgZ(70,"div",24)(71,"small",25),e._uU(72,"Interest Amount"),e.qZA(),e._UZ(73,"br"),e.TgZ(74,"span"),e._uU(75),e.ALo(76,"currency"),e.qZA()(),e.TgZ(77,"div",24)(78,"small",25),e._uU(79,"Nominees"),e.qZA(),e._UZ(80,"br"),e.TgZ(81,"span"),e._uU(82),e.qZA()(),e.TgZ(83,"div",28)(84,"small",25),e._uU(85,"Features"),e.qZA(),e._UZ(86,"br"),e.TgZ(87,"span"),e._uU(88),e.qZA()()()(),e.TgZ(89,"div",16)(90,"div",29)(91,"button",30),e._UZ(92,"i",31)(93,"i",32),e.qZA()()()()}if(2&o){const t=n.$implicit,r=e.oxw(3);e.xp6(4),e.Q6J("routerLink",e.VKq(30,I,t.id)),e.xp6(11),e.Oqu(t.accountNumber),e.xp6(6),e.Oqu(r.toNames(t.names)),e.xp6(6),e.AsE("",t.institutionName,", ",t.institutionBranch,""),e.xp6(7),e.Oqu(e.lcZ(35,17,t.startDate)),e.xp6(7),e.Oqu(e.xi3(42,19,t.principalAmount,t.currencyCode)),e.xp6(7),e.Oqu(e.lcZ(49,22,t.maturityDate)),e.xp6(7),e.Oqu(e.xi3(56,24,t.maturityAmount,t.currencyCode)),e.xp6(2),e.Q6J("id","td-"+t.id),e.xp6(6),e.Oqu(r.toTenure(t)),e.xp6(6),e.hij("",t.interestRate,"%"),e.xp6(6),e.Oqu(e.xi3(76,27,t.interestAmount,t.currencyCode)),e.xp6(7),e.Oqu(r.toNominees(t.nominees)),e.xp6(6),e.Oqu(t.features||"-"),e.xp6(3),e.uIk("data-bs-target","#td-"+t.id)("aria-controls",t.id)}}function G(o,n){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,w,94,32,"div",8),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.list)}}const T=function(){return["add"]};function J(o,n){1&o&&(e.TgZ(0,"div",33),e._uU(1," Click "),e.TgZ(2,"a",34),e._UZ(3,"i",3),e.qZA(),e._uU(4," to add a term deposit "),e.qZA()),2&o&&(e.xp6(2),e.Q6J("routerLink",e.DdM(1,T)))}function k(o,n){if(1&o&&(e.YNc(0,G,2,1,"div",14),e.YNc(1,J,5,2,"ng-template",null,15,e.W1O)),2&o){const t=e.MAs(2),r=e.oxw();e.Q6J("ngIf",r.haveData)("ngIfElse",t)}}function Q(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"term-deposit-delete",35),e.NdJ("onClose",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.onDeleteClosed(i))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("id",t.selectedId)}}let L=(()=>{class o{constructor(){this._noOfData=[...Array(3).keys()],this.list=[],this.isLoading=!1,this.showDelete=!1,this.selectedId=null}ngAfterViewInit(){setTimeout(()=>{this.load()},500)}load(){var t=this;return(0,c.Z)(function*(){t.isLoading=!0;try{t.list=yield Z.getAll()}catch(r){console.error(r)}finally{setTimeout(()=>{t.isLoading=!1},500)}})()}get haveData(){return this.list.length>0}toTenure(t){return t.tenureDays>0&&t.tenureMonths>0?`${t.tenureDays} days & ${t.tenureMonths} months`:t.tenureDays>0?`${t.tenureDays} days`:t.tenureMonths>0?`${t.tenureMonths} months`:""}toNames(t){return t.map(r=>s.W_.toDisplayName(r)).join(", ")}toNominees(t){return null==t||0==t.length?"-":t.map(r=>`${s.W_.toDisplayName(r.name)} (${r.share}%)`).join(", ")}onDeleteClicked(t){this.selectedId=t,this.showDelete=!0}onDeleteClosed(t){t&&this.load(),this.selectedId=null,this.showDelete=!1}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],decls:9,vars:5,consts:[[1,"container"],[1,"my-3"],[1,"text-primary","ms-2",3,"routerLink"],[1,"bi","bi-plus-circle-dotted"],["class","placeholder-glow",4,"ngIf","ngIfElse"],["showData",""],[3,"id","onClose",4,"ngIf"],[1,"placeholder-glow"],["class","card shadow-sm mb-3",4,"ngFor","ngForOf"],[1,"card","shadow-sm","mb-3"],[1,"card-body"],[1,"row"],[1,"col-md-4"],[1,"col-12","placeholder"],[4,"ngIf","ngIfElse"],["noData",""],[1,"position-relative"],[1,"position-absolute","top-0","end-0"],[1,"btn-group"],["type","button",1,"btn","btn-outline-primary","shadow-none","border-0",3,"routerLink"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-outline-danger","shadow-none","border-0",3,"click"],[1,"bi","bi-trash3"],[1,"row","mb-md-2"],[1,"col-md-3"],[1,"text-secondary"],[1,"col-md-5"],[1,"collapse","row","mt-2",3,"id"],[1,"col-md-4","mt-2"],[1,"position-absolute","bottom-0","end-0"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"btn","btn-outline-secondary","shadow-none","border-0"],[1,"bi","bi-chevron-double-up","collapse-hide"],[1,"bi","bi-chevron-double-down","expanded-hide"],[1,"lead","text-center","text-muted","py-4"],[1,"text-primary",3,"routerLink"],[3,"id","onClose"]],template:function(t,r){if(1&t&&(e.TgZ(0,"section",0)(1,"h1",1),e._uU(2," Term Deposits "),e.TgZ(3,"a",2),e._UZ(4,"i",3),e.qZA()(),e.YNc(5,D,2,1,"div",4),e.YNc(6,k,3,2,"ng-template",null,5,e.W1O),e.qZA(),e.YNc(8,Q,1,1,"term-deposit-delete",6)),2&t){const i=e.MAs(7);e.xp6(3),e.Q6J("routerLink",e.DdM(4,T)),e.xp6(2),e.Q6J("ngIf",r.isLoading)("ngIfElse",i),e.xp6(3),e.Q6J("ngIf",r.showDelete)}},dependencies:[m.sg,m.O5,g.yS,U,m.H9,m.uU],encapsulation:2}),o})();const M=["focusOn"];function Y(o,n){1&o&&(e.TgZ(0,"div",10),e._UZ(1,"label",11)(2,"span",12),e.qZA())}function O(o,n){if(1&o&&(e.TgZ(0,"div",6),e.YNc(1,Y,3,0,"div",7),e._UZ(2,"button",8)(3,"button",9),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t._noOfFields)}}function P(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"First Name is required"),e.qZA())}function B(o,n){if(1&o&&(e.TgZ(0,"div",27),e.YNc(1,P,2,0,"div",28),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.firstName.errors.required)}}function E(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Last Name is required"),e.qZA())}function R(o,n){if(1&o&&(e.TgZ(0,"div",27),e.YNc(1,E,2,0,"div",28),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.lastName.errors.required)}}const A=function(o,n){return{"is-invalid":o,"is-valid":n}};function W(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",10)(2,"label",14),e._uU(3,"First Name"),e.qZA(),e._UZ(4,"input",15,16),e.YNc(6,B,2,1,"div",17),e.qZA(),e.TgZ(7,"div",10)(8,"label",18),e._uU(9,"Middle Name"),e.qZA(),e._UZ(10,"input",19),e.qZA(),e.TgZ(11,"div",10)(12,"label",20),e._uU(13,"Last Name"),e.qZA(),e._UZ(14,"input",21),e.YNc(15,R,2,1,"div",17),e.qZA()(),e.TgZ(16,"button",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSubmitClicked())}),e._UZ(17,"i",23),e.TgZ(18,"span",24),e._uU(19,"Save"),e.qZA()(),e.TgZ(20,"button",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onCancelClicked())}),e._UZ(21,"i",26),e.TgZ(22,"span",24),e._uU(23,"Cancel"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.mainFormGroup),e.xp6(4),e.Q6J("ngClass",e.WLB(6,A,t.mainFormGroupControls.firstName.errors,t.mainFormGroupControls.firstName.valid)),e.xp6(2),e.Q6J("ngIf",t.mainFormGroupControls.firstName.errors),e.xp6(8),e.Q6J("ngClass",e.WLB(9,A,t.mainFormGroupControls.lastName.errors,t.mainFormGroupControls.lastName.valid)),e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.lastName.errors),e.xp6(1),e.Q6J("disabled",t.mainFormGroup.invalid)}}let S=(()=>{class o{constructor(t){this._formBuilder=t,this._noOfFields=[...Array(3).keys()],this.onClose=new e.vpe,this.isLoading=!0}ngOnInit(){this.setupFormGroup()}ngAfterViewInit(){setTimeout(()=>{this.isLoading=!1,setTimeout(()=>{this.focusOn.nativeElement.focus()},500)},500)}setupFormGroup(){this.mainFormGroup=this._formBuilder.group({firstName:new a.NI("",[a.kI.required]),middleName:new a.NI("",[]),lastName:new a.NI("",[a.kI.required])})}get mainFormGroupControls(){return this.mainFormGroup.controls}onCancelClicked(){this.onClose.emit(null)}onSubmitClicked(){const t={first:s.W_.toTrim(this.mainFormGroupControls.firstName.value),middle:s.W_.toTrimOrNull(this.mainFormGroupControls.middleName.value),last:s.W_.toTrim(this.mainFormGroupControls.lastName.value)};this.onClose.emit(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["name-form"]],viewQuery:function(t,r){if(1&t&&e.Gf(M,5),2&t){let i;e.iGM(i=e.CRH())&&(r.focusOn=i.first)}},outputs:{onClose:"onClose"},decls:8,vars:2,consts:[["tabindex","-1","aria-modal","true","role","dialog",1,"offcanvas","offcanvas-end","show"],[1,"offcanvas-header","text-bg-primary"],[1,"offcanvas-title"],[1,"offcanvas-body"],["class","placeholder-glow",4,"ngIf","ngIfElse"],["showForm",""],[1,"placeholder-glow"],["class","mb-3",4,"ngFor","ngForOf"],["type","button","disabled","",1,"btn","btn-primary","col-4","placeholder"],["type","button","disabled","",1,"btn","btn-secondary","ms-2","col-4","placeholder"],[1,"mb-3"],[1,"form-label","col-5","placeholder"],[1,"form-control","col-12","placeholder"],[3,"formGroup"],["for","firstName",1,"form-label"],["type","text","formControlName","firstName","id","firstName",1,"form-control",3,"ngClass"],["focusOn",""],["class","invalid-feedback",4,"ngIf"],["for","middleName",1,"form-label"],["type","text","formControlName","middleName","id","middleName",1,"form-control"],["for","lastName",1,"form-label"],["type","text","formControlName","lastName","id","lastName",1,"form-control",3,"ngClass"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"bi","bi-hdd"],[1,"ms-2"],["type","button",1,"btn","btn-outline-secondary","ms-2",3,"click"],[1,"bi","bi-x-lg"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3,"Add Name"),e.qZA()(),e.TgZ(4,"div",3),e.YNc(5,O,4,1,"div",4),e.YNc(6,W,24,12,"ng-template",null,5,e.W1O),e.qZA()()),2&t){const i=e.MAs(7);e.xp6(5),e.Q6J("ngIf",r.isLoading)("ngIfElse",i)}},dependencies:[m.mk,m.sg,m.O5,a.Fj,a.JJ,a.JL,a.sg,a.u],encapsulation:2}),o})();const H=["focusOn"];function K(o,n){1&o&&(e.TgZ(0,"div",10),e._UZ(1,"label",11)(2,"span",12),e.qZA())}function V(o,n){if(1&o&&(e.TgZ(0,"div",6),e.YNc(1,K,3,0,"div",7),e._UZ(2,"button",8)(3,"button",9),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t._noOfFields)}}function $(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"First Name is required"),e.qZA())}function j(o,n){if(1&o&&(e.TgZ(0,"div",31),e.YNc(1,$,2,0,"div",32),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.firstName.errors.required)}}function X(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Last Name is required"),e.qZA())}function z(o,n){if(1&o&&(e.TgZ(0,"div",31),e.YNc(1,X,2,0,"div",32),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.lastName.errors.required)}}function ee(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Share is required"),e.qZA())}function te(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Share cannot be less than 0.01"),e.qZA())}function oe(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Share cannot be more than 100.00"),e.qZA())}function ne(o,n){if(1&o&&(e.TgZ(0,"div",31),e.YNc(1,ee,2,0,"div",32),e.YNc(2,te,2,0,"div",32),e.YNc(3,oe,2,0,"div",32),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.share.errors.required),e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.share.errors.min),e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.share.errors.max)}}const f=function(o,n){return{"is-invalid":o,"is-valid":n}};function ie(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",10)(2,"label",14),e._uU(3,"First Name"),e.qZA(),e._UZ(4,"input",15,16),e.YNc(6,j,2,1,"div",17),e.qZA(),e.TgZ(7,"div",10)(8,"label",18),e._uU(9,"Middle Name"),e.qZA(),e._UZ(10,"input",19),e.qZA(),e.TgZ(11,"div",10)(12,"label",20),e._uU(13,"Last Name"),e.qZA(),e._UZ(14,"input",21),e.YNc(15,z,2,1,"div",17),e.qZA(),e.TgZ(16,"div",10)(17,"label",22),e._uU(18,"Share"),e.qZA(),e.TgZ(19,"div",23),e._UZ(20,"input",24),e.TgZ(21,"span",25),e._uU(22,"%"),e.qZA(),e.YNc(23,ne,4,3,"div",17),e.qZA()()(),e.TgZ(24,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSubmitClicked())}),e._UZ(25,"i",27),e.TgZ(26,"span",28),e._uU(27,"Save"),e.qZA()(),e.TgZ(28,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onCancelClicked())}),e._UZ(29,"i",30),e.TgZ(30,"span",28),e._uU(31,"Cancel"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.mainFormGroup),e.xp6(4),e.Q6J("ngClass",e.WLB(8,f,t.mainFormGroupControls.firstName.errors,t.mainFormGroupControls.firstName.valid)),e.xp6(2),e.Q6J("ngIf",t.mainFormGroupControls.firstName.errors),e.xp6(8),e.Q6J("ngClass",e.WLB(11,f,t.mainFormGroupControls.lastName.errors,t.mainFormGroupControls.lastName.valid)),e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.lastName.errors),e.xp6(5),e.Q6J("ngClass",e.WLB(14,f,t.mainFormGroupControls.share.errors,t.mainFormGroupControls.share.valid)),e.xp6(3),e.Q6J("ngIf",t.mainFormGroupControls.share.errors),e.xp6(1),e.Q6J("disabled",t.mainFormGroup.invalid)}}let re=(()=>{class o{constructor(t){this._formBuilder=t,this._noOfFields=[...Array(4).keys()],this.onClose=new e.vpe,this.isLoading=!0}ngOnInit(){this.setupFormGroup()}ngAfterViewInit(){setTimeout(()=>{this.isLoading=!1,setTimeout(()=>{this.focusOn.nativeElement.focus()},500)},500)}setupFormGroup(){this.mainFormGroup=this._formBuilder.group({firstName:new a.NI("",[a.kI.required]),middleName:new a.NI("",[]),lastName:new a.NI("",[a.kI.required]),share:new a.NI("",[a.kI.required,a.kI.min(.01),a.kI.max(100)])})}get mainFormGroupControls(){return this.mainFormGroup.controls}onCancelClicked(){this.onClose.emit(null)}onSubmitClicked(){const t={name:{first:s.W_.toTrim(this.mainFormGroupControls.firstName.value),middle:s.W_.toTrimOrNull(this.mainFormGroupControls.middleName.value),last:s.W_.toTrim(this.mainFormGroupControls.lastName.value)},share:this.mainFormGroupControls.share.value};this.onClose.emit(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["nominee-form"]],viewQuery:function(t,r){if(1&t&&e.Gf(H,5),2&t){let i;e.iGM(i=e.CRH())&&(r.focusOn=i.first)}},outputs:{onClose:"onClose"},decls:8,vars:2,consts:[["tabindex","-1","aria-modal","true","role","dialog",1,"offcanvas","offcanvas-end","show"],[1,"offcanvas-header","text-bg-primary"],[1,"offcanvas-title"],[1,"offcanvas-body"],["class","placeholder-glow",4,"ngIf","ngIfElse"],["showForm",""],[1,"placeholder-glow"],["class","mb-3",4,"ngFor","ngForOf"],["type","button","disabled","",1,"btn","btn-primary","col-4","placeholder"],["type","button","disabled","",1,"btn","btn-secondary","ms-2","col-4","placeholder"],[1,"mb-3"],[1,"form-label","col-5","placeholder"],[1,"form-control","col-12","placeholder"],[3,"formGroup"],["for","firstName",1,"form-label"],["type","text","formControlName","firstName","id","firstName",1,"form-control",3,"ngClass"],["focusOn",""],["class","invalid-feedback",4,"ngIf"],["for","middleName",1,"form-label"],["type","text","formControlName","middleName","id","middleName",1,"form-control"],["for","lastName",1,"form-label"],["type","text","formControlName","lastName","id","lastName",1,"form-control",3,"ngClass"],["for","share",1,"form-label"],[1,"input-group","has-validation"],["type","number","formControlName","share","id","share","inputmode","numeric","min","0.01","max","100.00","step","0.01",1,"form-control",3,"ngClass"],[1,"input-group-text"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"bi","bi-hdd"],[1,"ms-2"],["type","button",1,"btn","btn-outline-secondary","ms-2",3,"click"],[1,"bi","bi-x-lg"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3,"Add Nominee"),e.qZA()(),e.TgZ(4,"div",3),e.YNc(5,V,4,1,"div",4),e.YNc(6,ie,32,17,"ng-template",null,5,e.W1O),e.qZA()()),2&t){const i=e.MAs(7);e.xp6(5),e.Q6J("ngIf",r.isLoading)("ngIfElse",i)}},dependencies:[m.mk,m.sg,m.O5,a.Fj,a.wV,a.JJ,a.JL,a.qQ,a.Fd,a.sg,a.u],encapsulation:2}),o})();const ae=["focusOn"];function se(o,n){if(1&o&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12),e._UZ(3,"i",13),e.qZA(),e.TgZ(4,"div",14),e._uU(5),e.qZA()()()),2&o){const t=e.oxw();e.xp6(5),e.hij(" ",t.errorMessage," ")}}function me(o,n){1&o&&(e.TgZ(0,"div",15)(1,"div",11)(2,"div",16),e._UZ(3,"label",17)(4,"span",18),e.qZA(),e.TgZ(5,"div",19),e._UZ(6,"label",17)(7,"span",18),e.qZA()(),e.TgZ(8,"div",11)(9,"div",19),e._UZ(10,"label",17)(11,"span",18),e.qZA(),e.TgZ(12,"div",19),e._UZ(13,"label",17)(14,"span",18),e.qZA(),e.TgZ(15,"div",20),e._UZ(16,"label",17)(17,"span",18),e.qZA(),e.TgZ(18,"div",20),e._UZ(19,"label",17)(20,"span",18),e.qZA(),e.TgZ(21,"div",20),e._UZ(22,"label",17)(23,"span",18),e.qZA()(),e.TgZ(24,"div",11)(25,"div",19),e._UZ(26,"label",17)(27,"span",18),e.qZA(),e.TgZ(28,"div",19),e._UZ(29,"label",17)(30,"span",18),e.qZA(),e.TgZ(31,"div",19),e._UZ(32,"label",17)(33,"span",18),e.qZA()(),e.TgZ(34,"h3",21),e._uU(35," Names "),e.qZA(),e.TgZ(36,"div",22)(37,"table",23)(38,"colgroup"),e._UZ(39,"col",24)(40,"col")(41,"col")(42,"col")(43,"col",24),e.qZA(),e.TgZ(44,"thead")(45,"tr")(46,"th",25),e._UZ(47,"span",18),e.qZA(),e.TgZ(48,"th",25),e._UZ(49,"span",18),e.qZA(),e.TgZ(50,"th",25),e._UZ(51,"span",18),e.qZA(),e.TgZ(52,"th",25),e._UZ(53,"span",18),e.qZA(),e.TgZ(54,"th",25),e._UZ(55,"span",18),e.qZA()()(),e.TgZ(56,"tbody")(57,"tr")(58,"th",26),e._UZ(59,"span",18),e.qZA(),e.TgZ(60,"td"),e._UZ(61,"span",18),e.qZA(),e.TgZ(62,"td"),e._UZ(63,"span",18),e.qZA(),e.TgZ(64,"td"),e._UZ(65,"span",18),e.qZA(),e.TgZ(66,"td"),e._UZ(67,"button",27),e.qZA()()()()(),e.TgZ(68,"h3",21),e._uU(69,"Institution"),e.qZA(),e.TgZ(70,"div",11)(71,"div",16),e._UZ(72,"label",17)(73,"span",18),e.qZA(),e.TgZ(74,"div",28),e._UZ(75,"label",17)(76,"span",18),e.qZA()(),e.TgZ(77,"h3",21),e._uU(78," Nominees "),e.qZA(),e.TgZ(79,"div",22)(80,"table",23)(81,"colgroup"),e._UZ(82,"col",24)(83,"col")(84,"col")(85,"col")(86,"col",29)(87,"col",24),e.qZA(),e.TgZ(88,"thead")(89,"tr")(90,"th",25),e._UZ(91,"span",18),e.qZA(),e.TgZ(92,"th",25),e._UZ(93,"span",18),e.qZA(),e.TgZ(94,"th",25),e._UZ(95,"span",18),e.qZA(),e.TgZ(96,"th",25),e._UZ(97,"span",18),e.qZA(),e.TgZ(98,"th",30),e._UZ(99,"span",18),e.qZA(),e.TgZ(100,"th",25),e._UZ(101,"span",18),e.qZA()()(),e.TgZ(102,"tbody")(103,"tr")(104,"th",26),e._UZ(105,"span",18),e.qZA(),e.TgZ(106,"td"),e._UZ(107,"span",18),e.qZA(),e.TgZ(108,"td"),e._UZ(109,"span",18),e.qZA(),e.TgZ(110,"td"),e._UZ(111,"span",18),e.qZA(),e.TgZ(112,"td",31),e._UZ(113,"span",18),e.qZA(),e.TgZ(114,"td"),e._UZ(115,"button",27),e.qZA()()()()(),e.TgZ(116,"div",32),e._UZ(117,"label",17)(118,"span",18),e.qZA(),e._UZ(119,"button",33)(120,"button",34),e.qZA())}function le(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Account Number is required"),e.qZA())}function ue(o,n){if(1&o&&(e.TgZ(0,"div",76),e.YNc(1,le,2,0,"div",77),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.accountNumber.errors.required)}}function ce(o,n){if(1&o&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.AsE(" ",t.name," (",t.symbole,") ")}}function _e(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Currency is required"),e.qZA())}function pe(o,n){if(1&o&&(e.TgZ(0,"div",76),e.YNc(1,_e,2,0,"div",77),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.currencyCode.errors.required)}}function de(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Start Date is required"),e.qZA())}function ge(o,n){if(1&o&&(e.TgZ(0,"div",76),e.YNc(1,de,2,0,"div",77),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.startDate.errors.required)}}function Ze(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Principal Amount is required"),e.qZA())}function fe(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Principal Amount should be in multiples of 100"),e.qZA())}function ve(o,n){if(1&o&&(e.TgZ(0,"div",76),e.YNc(1,Ze,2,0,"div",77),e.YNc(2,fe,2,0,"div",77),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.principalAmount.errors.required),e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.principalAmount.errors.min)}}function Te(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Interest Rate is required"),e.qZA())}function Ae(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Interest Rate cannot be less than 0.01"),e.qZA())}function xe(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Interest Rate cannot be more than 100.00"),e.qZA())}function be(o,n){if(1&o&&(e.TgZ(0,"div",76),e.YNc(1,Te,2,0,"div",77),e.YNc(2,Ae,2,0,"div",77),e.YNc(3,xe,2,0,"div",77),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.interestRate.errors.required),e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.interestRate.errors.min),e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.interestRate.errors.max)}}function he(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Tenure Days is required"),e.qZA())}function Ce(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Tenure Days cannot be less than 0"),e.qZA())}function Ne(o,n){if(1&o&&(e.TgZ(0,"div",76),e.YNc(1,he,2,0,"div",77),e.YNc(2,Ce,2,0,"div",77),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.tenureDays.errors.required),e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.tenureDays.errors.min)}}function qe(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Tenure Months is required"),e.qZA())}function Fe(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Tenure Months cannot be less than 0"),e.qZA())}function Ue(o,n){if(1&o&&(e.TgZ(0,"div",76),e.YNc(1,qe,2,0,"div",77),e.YNc(2,Fe,2,0,"div",77),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.tenureMonths.errors.required),e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.tenureMonths.errors.min)}}function ye(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Maturity Date is required"),e.qZA())}function De(o,n){if(1&o&&(e.TgZ(0,"div",76),e.YNc(1,ye,2,0,"div",77),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.maturityDate.errors.required)}}function Ie(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Maturity Amount is required"),e.qZA())}function we(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Maturity Amount cannot be less than 100"),e.qZA())}function Ge(o,n){if(1&o&&(e.TgZ(0,"div",76),e.YNc(1,Ie,2,0,"div",77),e.YNc(2,we,2,0,"div",77),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.maturityAmount.errors.required),e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.maturityAmount.errors.min)}}function Je(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Interest Amount is required"),e.qZA())}function ke(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Interest Amount cannot be less than 0"),e.qZA())}function Qe(o,n){if(1&o&&(e.TgZ(0,"div",76),e.YNc(1,Je,2,0,"div",77),e.YNc(2,ke,2,0,"div",77),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.interestAmount.errors.required),e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.interestAmount.errors.min)}}function Le(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"th",26),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"button",82),e.NdJ("click",function(){const l=e.CHM(t).index,_=e.oxw(3);return e.KtG(_.onDeleteNameClicked(l))}),e._UZ(11,"i",75),e.qZA()()()}if(2&o){const t=n.$implicit,r=n.index;e.xp6(2),e.hij("",r+1,"."),e.xp6(2),e.Oqu(t.first),e.xp6(2),e.Oqu(t.middle),e.xp6(2),e.Oqu(t.last)}}function Me(o,n){if(1&o&&(e.TgZ(0,"div",79)(1,"table",80)(2,"colgroup"),e._UZ(3,"col",24)(4,"col")(5,"col")(6,"col")(7,"col",24),e.qZA(),e.TgZ(8,"thead")(9,"tr"),e._UZ(10,"th",25),e.TgZ(11,"th",25),e._uU(12,"First Name"),e.qZA(),e.TgZ(13,"th",25),e._uU(14,"Middle Name"),e.qZA(),e.TgZ(15,"th",25),e._uU(16,"Last Name"),e.qZA(),e._UZ(17,"th",25),e.qZA()(),e.TgZ(18,"tbody"),e.YNc(19,Le,12,4,"tr",81),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(19),e.Q6J("ngForOf",t.nameList)}}function Ye(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",83),e._uU(1," Click "),e.TgZ(2,"a",84),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onAddNameClicked())}),e._UZ(3,"i",62),e.qZA(),e._uU(4," to add a name "),e.qZA()}}function Oe(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Institution Name is required"),e.qZA())}function Pe(o,n){if(1&o&&(e.TgZ(0,"div",76),e.YNc(1,Oe,2,0,"div",77),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.institutionName.errors.required)}}function Be(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1,"Institution Branch is required"),e.qZA())}function Ee(o,n){if(1&o&&(e.TgZ(0,"div",76),e.YNc(1,Be,2,0,"div",77),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.mainFormGroupControls.institutionBranch.errors.required)}}function Re(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"th",26),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",31),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"button",82),e.NdJ("click",function(){const l=e.CHM(t).index,_=e.oxw(3);return e.KtG(_.onDeleteNomineeClicked(l))}),e._UZ(13,"i",75),e.qZA()()()}if(2&o){const t=n.$implicit,r=n.index;e.xp6(2),e.hij("",r+1,"."),e.xp6(2),e.Oqu(t.name.first),e.xp6(2),e.Oqu(t.name.middle),e.xp6(2),e.Oqu(t.name.last),e.xp6(2),e.hij("",t.share,"%")}}function We(o,n){if(1&o&&(e.TgZ(0,"div",79)(1,"table",80)(2,"colgroup"),e._UZ(3,"col",24)(4,"col")(5,"col")(6,"col")(7,"col",29)(8,"col",24),e.qZA(),e.TgZ(9,"thead")(10,"tr"),e._UZ(11,"th",25),e.TgZ(12,"th",25),e._uU(13,"First Name"),e.qZA(),e.TgZ(14,"th",25),e._uU(15,"Middle Name"),e.qZA(),e.TgZ(16,"th",25),e._uU(17,"Last Name"),e.qZA(),e.TgZ(18,"th",30),e._uU(19,"Share"),e.qZA(),e._UZ(20,"th",25),e.qZA()(),e.TgZ(21,"tbody"),e.YNc(22,Re,14,5,"tr",81),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(22),e.Q6J("ngForOf",t.nomineeList)}}function Se(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",83),e._uU(1," Click "),e.TgZ(2,"a",84),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onAddNomineeClicked())}),e._UZ(3,"i",62),e.qZA(),e._uU(4," to add a nominee "),e.qZA()}}const u=function(o,n){return{"is-invalid":o,"is-valid":n}};function He(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",35)(1,"fieldset")(2,"div",11)(3,"div",16)(4,"label",36),e._uU(5,"Account Number"),e.qZA(),e._UZ(6,"input",37,38),e.YNc(8,ue,2,1,"div",39),e.qZA(),e.TgZ(9,"div",19)(10,"label",40),e._uU(11,"Currency"),e.qZA(),e.TgZ(12,"select",41),e.YNc(13,ce,2,3,"option",42),e.qZA(),e.YNc(14,pe,2,1,"div",39),e.qZA()(),e.TgZ(15,"div",11)(16,"div",19)(17,"label",43),e._uU(18,"Start Date"),e.qZA(),e._UZ(19,"input",44),e.YNc(20,ge,2,1,"div",39),e.qZA(),e.TgZ(21,"div",19)(22,"label",45),e._uU(23,"Principal Amount"),e.qZA(),e._UZ(24,"input",46),e.YNc(25,ve,3,2,"div",39),e.qZA(),e.TgZ(26,"div",20)(27,"label",47),e._uU(28,"Interest Rate"),e.qZA(),e.TgZ(29,"div",48),e._UZ(30,"input",49),e.TgZ(31,"span",50),e._uU(32,"%"),e.qZA(),e.YNc(33,be,4,3,"div",39),e.qZA()(),e.TgZ(34,"div",20)(35,"label",51),e._uU(36,"Tenure Days"),e.qZA(),e._UZ(37,"input",52),e.YNc(38,Ne,3,2,"div",39),e.qZA(),e.TgZ(39,"div",20)(40,"label",53),e._uU(41,"Tenure Months"),e.qZA(),e._UZ(42,"input",54),e.YNc(43,Ue,3,2,"div",39),e.qZA()(),e.TgZ(44,"div",11)(45,"div",19)(46,"label",55),e._uU(47,"Maturity Date"),e.qZA(),e._UZ(48,"input",56),e.YNc(49,De,2,1,"div",39),e.qZA(),e.TgZ(50,"div",19)(51,"label",57),e._uU(52,"Maturity Amount"),e.qZA(),e._UZ(53,"input",58),e.YNc(54,Ge,3,2,"div",39),e.qZA(),e.TgZ(55,"div",19)(56,"label",59),e._uU(57,"Interest Amount"),e.qZA(),e._UZ(58,"input",60),e.YNc(59,Qe,3,2,"div",39),e.qZA()(),e.TgZ(60,"h3",21),e._uU(61," Names "),e.TgZ(62,"a",61),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onAddNameClicked())}),e._UZ(63,"i",62),e.qZA()(),e.YNc(64,Me,20,1,"div",63),e.YNc(65,Ye,5,0,"ng-template",null,64,e.W1O),e.TgZ(67,"h3",21),e._uU(68,"Institution"),e.qZA(),e.TgZ(69,"div",11)(70,"div",16)(71,"label",65),e._uU(72,"Institution Name"),e.qZA(),e._UZ(73,"input",66),e.YNc(74,Pe,2,1,"div",39),e.qZA(),e.TgZ(75,"div",28)(76,"label",67),e._uU(77,"Institution Branch"),e.qZA(),e._UZ(78,"input",68),e.YNc(79,Ee,2,1,"div",39),e.qZA()(),e.TgZ(80,"h3",21),e._uU(81," Nominees "),e.TgZ(82,"a",61),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onAddNomineeClicked())}),e._UZ(83,"i",62),e.qZA()(),e.YNc(84,We,23,1,"div",63),e.YNc(85,Se,5,0,"ng-template",null,69,e.W1O),e.TgZ(87,"h5",21),e._uU(88,"Features"),e.qZA(),e.TgZ(89,"div",32)(90,"textarea",70),e._uU(91,"                    "),e.qZA()()(),e.TgZ(92,"button",71),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSubmitClicked())}),e._UZ(93,"i",72),e.TgZ(94,"span",73),e._uU(95,"Save"),e.qZA()(),e.TgZ(96,"a",74),e._UZ(97,"i",75),e.TgZ(98,"span",73),e._uU(99,"Cancel"),e.qZA()()()}if(2&o){const t=e.MAs(66),r=e.MAs(86),i=e.oxw();e.Q6J("formGroup",i.mainFormGroup),e.xp6(6),e.Q6J("ngClass",e.WLB(31,u,i.mainFormGroupControls.accountNumber.errors,i.mainFormGroupControls.accountNumber.valid)),e.xp6(2),e.Q6J("ngIf",i.mainFormGroupControls.accountNumber.errors),e.xp6(4),e.Q6J("ngClass",e.WLB(34,u,i.mainFormGroupControls.currencyCode.errors,i.mainFormGroupControls.currencyCode.valid)),e.xp6(1),e.Q6J("ngForOf",i._supportedCurrencies),e.xp6(1),e.Q6J("ngIf",i.mainFormGroupControls.currencyCode.errors),e.xp6(5),e.Q6J("ngClass",e.WLB(37,u,i.mainFormGroupControls.startDate.errors,i.mainFormGroupControls.startDate.valid)),e.xp6(1),e.Q6J("ngIf",i.mainFormGroupControls.startDate.errors),e.xp6(4),e.Q6J("ngClass",e.WLB(40,u,i.mainFormGroupControls.principalAmount.errors,i.mainFormGroupControls.principalAmount.valid)),e.xp6(1),e.Q6J("ngIf",i.mainFormGroupControls.principalAmount.errors),e.xp6(5),e.Q6J("ngClass",e.WLB(43,u,i.mainFormGroupControls.interestRate.errors,i.mainFormGroupControls.interestRate.valid)),e.xp6(3),e.Q6J("ngIf",i.mainFormGroupControls.interestRate.errors),e.xp6(4),e.Q6J("ngClass",e.WLB(46,u,i.mainFormGroupControls.tenureDays.errors,i.mainFormGroupControls.tenureDays.valid)),e.xp6(1),e.Q6J("ngIf",i.mainFormGroupControls.tenureDays.errors),e.xp6(4),e.Q6J("ngClass",e.WLB(49,u,i.mainFormGroupControls.tenureMonths.errors,i.mainFormGroupControls.tenureMonths.valid)),e.xp6(1),e.Q6J("ngIf",i.mainFormGroupControls.tenureMonths.errors),e.xp6(5),e.Q6J("ngClass",e.WLB(52,u,i.mainFormGroupControls.maturityDate.errors,i.mainFormGroupControls.maturityDate.valid)),e.xp6(1),e.Q6J("ngIf",i.mainFormGroupControls.maturityDate.errors),e.xp6(4),e.Q6J("ngClass",e.WLB(55,u,i.mainFormGroupControls.maturityAmount.errors,i.mainFormGroupControls.maturityAmount.valid)),e.xp6(1),e.Q6J("ngIf",i.mainFormGroupControls.maturityAmount.errors),e.xp6(4),e.Q6J("ngClass",e.WLB(58,u,i.mainFormGroupControls.interestAmount.errors,i.mainFormGroupControls.interestAmount.valid)),e.xp6(1),e.Q6J("ngIf",i.mainFormGroupControls.interestAmount.errors),e.xp6(5),e.Q6J("ngIf",i.haveNames)("ngIfElse",t),e.xp6(9),e.Q6J("ngClass",e.WLB(61,u,i.mainFormGroupControls.institutionName.errors,i.mainFormGroupControls.institutionName.valid)),e.xp6(1),e.Q6J("ngIf",i.mainFormGroupControls.institutionName.errors),e.xp6(4),e.Q6J("ngClass",e.WLB(64,u,i.mainFormGroupControls.institutionBranch.errors,i.mainFormGroupControls.institutionBranch.valid)),e.xp6(1),e.Q6J("ngIf",i.mainFormGroupControls.institutionBranch.errors),e.xp6(5),e.Q6J("ngIf",i.haveNominees)("ngIfElse",r),e.xp6(8),e.Q6J("disabled",!i.isFormValid)}}function Ke(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"name-form",85),e.NdJ("onClose",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.onNameFormClose(i))}),e.qZA()}}function Ve(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"nominee-form",85),e.NdJ("onClose",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.onNomineeFormClose(i))}),e.qZA()}}let x=(()=>{class o{constructor(t,r,i){this._formBuilder=t,this._router=r,this._activatedRoute=i,this._today=new Date,this._supportedCurrencies=s.Rr.SupportedCurrencies,this.id=null,this.nameList=[],this.nomineeList=[],this.isLoading=!0,this.showNameForm=!1,this.showNomineeForm=!1,this.isSaving=!1,this.errorMessage=""}ngOnInit(){this._activatedRoute.paramMap.subscribe({next:t=>{t.has("id")&&(this.id=t.get("id")),this.setupFormGroup()}})}setupFormGroup(){var t=this;return(0,c.Z)(function*(){if(t.mainFormGroup=t._formBuilder.group({accountNumber:new a.NI("",[a.kI.required]),currencyCode:new a.NI("INR",[a.kI.required]),startDate:new a.NI("",[a.kI.required]),principalAmount:new a.NI("",[a.kI.required,a.kI.min(100)]),interestRate:new a.NI("",[a.kI.required,a.kI.min(.01),a.kI.max(100)]),tenureDays:new a.NI("",[a.kI.required,a.kI.min(0)]),tenureMonths:new a.NI("",[a.kI.required,a.kI.min(0)]),maturityDate:new a.NI("",[a.kI.required]),maturityAmount:new a.NI("",[a.kI.required,a.kI.min(100)]),interestAmount:new a.NI("",[a.kI.required,a.kI.min(0)]),institutionName:new a.NI("",[a.kI.required]),institutionBranch:new a.NI("",[a.kI.required]),features:new a.NI("",[])}),t.haveValidId){const r=yield Z.getById(t.id);t.mainFormGroup.patchValue({accountNumber:r.accountNumber,currencyCode:r.currencyCode,startDate:r.startDate,principalAmount:r.principalAmount,interestRate:r.interestRate,tenureDays:r.tenureDays,tenureMonths:r.tenureMonths,maturityDate:r.maturityDate,maturityAmount:r.maturityAmount,interestAmount:r.interestAmount,institutionName:r.institutionName,institutionBranch:r.institutionBranch,features:r.features}),t.nameList=r.names,t.nomineeList=null===r.nominees?[]:r.nominees}t.isLoading=!1,setTimeout(()=>{t.focusOn.nativeElement.focus()},500)})()}get mainFormGroupControls(){return this.mainFormGroup.controls}get haveValidId(){return null!==this.id&&this.id.length>0}get haveNames(){return this.nameList.length>0}get haveNominees(){return this.nomineeList.length>0}get haveError(){return this.errorMessage.length>0}get isFormValid(){return this.mainFormGroup.valid&&this.haveNames}onAddNameClicked(){return this.showNameForm=!0,!1}onNameFormClose(t){null!==t&&this.nameList.push(t),this.showNameForm=!1}onDeleteNameClicked(t){confirm("Are you sure you want to delete Name?")&&this.nameList.splice(t,1)}onAddNomineeClicked(){return this.showNomineeForm=!0,!1}onNomineeFormClose(t){null!==t&&this.nomineeList.push(t),this.showNomineeForm=!1}onDeleteNomineeClicked(t){confirm("Are you sure you want to delete Nominee?")&&this.nomineeList.splice(t,1)}onSubmitClicked(){var t=this;return(0,c.Z)(function*(){t.isSaving=!0;const r={id:t.haveValidId?t.id:s.W_.newGuid,status:"Active",accountNumber:t.mainFormGroupControls.accountNumber.value,currencyCode:t.mainFormGroupControls.currencyCode.value,institutionName:t.mainFormGroupControls.institutionName.value,institutionBranch:t.mainFormGroupControls.institutionBranch.value,names:t.nameList,startDate:t.mainFormGroupControls.startDate.value,principalAmount:t.mainFormGroupControls.principalAmount.value,tenureDays:t.mainFormGroupControls.tenureDays.value,tenureMonths:t.mainFormGroupControls.tenureMonths.value,interestRate:t.mainFormGroupControls.interestRate.value,interestAmount:t.mainFormGroupControls.interestAmount.value,maturityDate:t.mainFormGroupControls.maturityDate.value,maturityAmount:t.mainFormGroupControls.maturityAmount.value,nominees:t.haveNominees?t.nomineeList:null,features:t.mainFormGroupControls.features.value};try{t.haveValidId?yield Z.update(t.id,r):yield Z.create(r),t._router.navigate(["/term.deposits"])}catch(i){i instanceof d.Xs?t.errorMessage=`Term Deposit with Account Number '${t.mainFormGroupControls.accountNumber.value}' not found!`:i instanceof d.be&&(t.errorMessage=`Term Deposit with Account Number '${t.mainFormGroupControls.accountNumber.value}' already exists!`)}finally{t.isSaving=!1}})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu),e.Y36(g.F0),e.Y36(g.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],viewQuery:function(t,r){if(1&t&&e.Gf(ae,5),2&t){let i;e.iGM(i=e.CRH())&&(r.focusOn=i.first)}},decls:14,vars:6,consts:[[1,"container"],["aria-label","breadcrumb",1,"my-3"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/term.deposits"],["aria-current","page",1,"breadcrumb-item","active"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","placeholder-glow",4,"ngIf","ngIfElse"],["showForm",""],[3,"onClose",4,"ngIf"],["role","alert",1,"alert","alert-danger"],[1,"row"],[1,"col-1"],[1,"bi","bi-patch-exclamation"],[1,"col-11"],[1,"placeholder-glow"],[1,"col-lg-4","col-md-5","mb-3"],[1,"form-label","col-5","placeholder"],[1,"form-control","col-12","placeholder"],[1,"col-lg-3","col-md-4","mb-3"],[1,"col-lg-2","col-md-3","mb-3"],[1,"mt-3"],[1,"table-responsive"],[1,"table","table-hover","align-middle","bg-white"],["width","3%"],["scope","col"],["scope","row",1,"text-end"],["type","button","disabled","",1,"btn","btn-danger","col-4","placeholder"],[1,"col-lg-8","col-md-7","mb-3"],["width","5%"],["scope","col",1,"text-end"],[1,"text-end"],[1,"mb-3"],["type","button","disabled","",1,"btn","btn-primary","col-lg-1","col-md-2","col-4","placeholder"],["type","button","disabled","",1,"btn","btn-secondary","ms-2","col-lg-1","col-md-2","col-4","placeholder"],[3,"formGroup"],["for","accountNumber",1,"form-label"],["type","text","formControlName","accountNumber","id","accountNumber",1,"form-control",3,"ngClass"],["focusOn",""],["class","invalid-feedback",4,"ngIf"],["for","currencyCode",1,"form-label"],["formControlName","currencyCode","id","currencyCode",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","startDate",1,"form-label"],["type","date","formControlName","startDate","id","startDate",1,"form-control",3,"ngClass"],["for","principalAmount",1,"form-label"],["type","number","formControlName","principalAmount","id","principalAmount","inputmode","numeric","min","100","step","100",1,"form-control",3,"ngClass"],["for","interestRate",1,"form-label"],[1,"input-group","has-validation"],["type","number","formControlName","interestRate","id","interestRate","inputmode","numeric","min","0.01","max","100.00","step","0.01",1,"form-control",3,"ngClass"],[1,"input-group-text"],["for","tenureDays",1,"form-label"],["type","number","formControlName","tenureDays","id","tenureDays","inputmode","numeric","min","0","step","1",1,"form-control",3,"ngClass"],["for","tenureMonths",1,"form-label"],["type","number","formControlName","tenureMonths","id","tenureMonths","inputmode","numeric","min","0","step","1",1,"form-control",3,"ngClass"],["for","maturityDate",1,"form-label"],["type","date","formControlName","maturityDate","id","maturityDate",1,"form-control",3,"ngClass"],["for","maturityAmount",1,"form-label"],["type","number","formControlName","maturityAmount","id","maturityAmount","inputmode","numeric","min","100","step","100",1,"form-control",3,"ngClass"],["for","interestAmount",1,"form-label"],["type","number","formControlName","interestAmount","id","interestAmount","inputmode","numeric","min","0","step","1",1,"form-control",3,"ngClass"],["href","#",1,"text-primary","ms-2",3,"click"],[1,"bi","bi-plus-circle-dotted"],["class","table-responsive border rounded mb-3",4,"ngIf","ngIfElse"],["noNames",""],["for","institutionName",1,"form-label"],["type","text","formControlName","institutionName","id","institutionName",1,"form-control",3,"ngClass"],["for","institutionBranch",1,"form-label"],["type","text","formControlName","institutionBranch","id","institutionBranch",1,"form-control",3,"ngClass"],["noNominees",""],["formControlName","features","id","features","rows","3",1,"form-control"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"bi","bi-hdd"],[1,"ms-2"],["routerLink","/term.deposits",1,"btn","btn-outline-secondary","ms-2"],[1,"bi","bi-x-lg"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"table-responsive","border","rounded","mb-3"],[1,"table","table-hover","align-middle","bg-white","mb-0"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"lead","text-center","text-muted","py-2"],["href","#",1,"text-primary",3,"click"],[3,"onClose"]],template:function(t,r){if(1&t&&(e.TgZ(0,"section",0)(1,"h1",1)(2,"ul",2)(3,"li",3)(4,"a",4),e._uU(5,"Term Deposits"),e.qZA()(),e.TgZ(6,"li",5),e._uU(7),e.qZA()()(),e.YNc(8,se,6,1,"div",6),e.YNc(9,me,121,0,"div",7),e.YNc(10,He,100,67,"ng-template",null,8,e.W1O),e.qZA(),e.YNc(12,Ke,1,0,"name-form",9),e.YNc(13,Ve,1,0,"nominee-form",9)),2&t){const i=e.MAs(11);e.xp6(7),e.hij(" ",r.haveValidId?"Edit":"Add"," "),e.xp6(1),e.Q6J("ngIf",r.haveError),e.xp6(1),e.Q6J("ngIf",r.isLoading)("ngIfElse",i),e.xp6(3),e.Q6J("ngIf",r.showNameForm),e.xp6(1),e.Q6J("ngIf",r.showNomineeForm)}},dependencies:[m.mk,m.sg,m.O5,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.qQ,a.Fd,a.sg,a.u,g.yS,S,re],encapsulation:2}),o})();const $e=[{path:"",component:L},{path:"add",component:x},{path:"edit/:id",component:x,canActivate:[s.E3]}];let je=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild($e),g.Bz]}),o})(),Xe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[s.E3],imports:[m.ez,a.UX,a.u5,je]}),o})()}}]);